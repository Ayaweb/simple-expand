/* Copyright (C) 2012 Sylvain Hamel
Project: https://github.com/redhotsly/simple-expand
MIT Licence: https://raw.github.com/redhotsly/simple-expand/master/licence-mit.txt */
(function(){function a(){var b=this;b.defaults={hideMode:"fadeToggle",defaultSearchMode:"parent",defaultTarget:".content",throwOnMissingTarget:true};b.settings={};$.extend(b.settings,b.defaults);b.findLevelOneDeep=function(d,e,c){return d.find(e).filter(function(){return !$(this).parentsUntil(d,c).length;});};b.hideTargets=function(c){if(b.settings.hideMode==="fadeToggle"){c.hide();}else{if(b.settings.hideMode==="basic"){c.hide();}}};b.toggle=function(e,c){var d=b.toggleCss(e);if(b.settings.hideMode==="fadeToggle"){c.fadeToggle(150);}else{if(b.settings.hideMode==="basic"){c.toggle();}else{if($.isFunction(b.settings.hideMode)){b.settings.hideMode(e,c,d);}}}return false;};b.toggleCss=function(c){if(c.hasClass("expanded")){c.toggleClass("collapsed expanded");return false;}else{c.toggleClass("expanded collapsed");return true;}};b.findTargets=function(g,f,e){var c=[];if(f==="absolute"){c=$(e);}else{if(f==="relative"){c=b.findLevelOneDeep(g,e,e);}else{if(f==="parent"){var d=g.parent();do{c=b.findLevelOneDeep(d,e,e);if(c.length===0){d=d.parent();}}while(c.length===0&&d.length!==0);}}}return c;};b.activate=function(c,d){$.extend(b.settings,d);c.each(function(){var h=$(this);var f=h.attr("data-expander-target")||b.settings.defaultTarget;var g=h.attr("data-expander-target-search")||b.settings.defaultSearchMode;var e=b.findTargets(h,g,f);if(e.length===0){if(b.settings.throwOnMissingTarget){throw"simple-expand: Targets not found";}return this;}h.removeClass("expanded").addClass("collapsed");b.hideTargets(e);h.click(function(){return b.toggle(h,e);});});};}window.SimpleExpand=a;$.fn.simpleexpand=function(c){var b=new a();b.activate(this,c);return this;};}());